# Вычисление числа $\pi$ #
Реализуем три алгоритма для определения числа $\pi$:
1. [Формула Беллара](https://ru.wikipedia.org/wiki/%D0%A4%D0%BE%D1%80%D0%BC%D1%83%D0%BB%D0%B0_%D0%91%D0%B5%D0%BB%D0%BB%D0%B0%D1%80%D0%B0).
2. [Ряд Мадхавы](https://ru.wikipedia.org/wiki/%D0%A0%D1%8F%D0%B4_%D0%9B%D0%B5%D0%B9%D0%B1%D0%BD%D0%B8%D1%86%D0%B0).
3. [Алгоритм Spigot](https://ru.wikipedia.org/wiki/Spigot-%D0%B0%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC).
---
## Формула Беллара ##
#### $\pi = \sum\limits_{k=0}^{\infty} \frac{(-1)^k}{2^{10k}} \left[-\frac{2^5}{4k+1} - \frac{1}{4k+3} + \frac{2^8}{10k+1} - \frac{2^6}{10k+3} - \frac{2^2}{10k+5} - \frac{2^2}{10k+7} + \frac{1}{10k+9}\right]$ ####

С помощью этой формулы можно вычислить отдельные цифры числа $\pi$, начиная с любого места. Однако для получения точных результатов требуется 
большое количество итераций, так как сумма знаменателей в знаменателях дробей 
растет очень быстро с увеличением k.

Оптимизировали формулу Беллара для большей эффектиности:  
1. Заменили 10n и 4n отдельными переменными.
2. 2^6 заменили переменным перед захода в цикл.
3. Вместо 2^2 записали сразу как 4.
---
## Ряд Мадхавы ##
#### $\pi = \sqrt{12}\left(1-\frac{1}{3\cdot3}+\frac{1}{5\cdot3^2}-\frac{1}{7\cdot3^3}+\cdots\right)= \sqrt{12}\sum\limits_{n=0}^{\infty} \frac{(-1)^n}{(2n+1)3^n}$ ####
Ряд Мадхавы - это бесконечный ряд, полученный из разложения функции арктангенса в степенной ряд, предложенный индийским математиком Мадхавой из скул в 14 веке.

Ряд сходится к значению арктангенса x при |x| <= 1. Этот ряд важен для математики и физики, так как он позволяет вычислять арктангенсы с большой точностью.

---
## Алгоритм Spigot ##
Spigot алгоритм, также известный как алгоритм крана, используется для вычисления десятичных разрядов числа $\pi$. Он основан на схеме Горнера, которая позволяет вычислять многочлены в компактной форме.

Алгоритм начинается с инициализации массива чисел, которые представляют разряды десятичной дроби числа $\pi$. Затем происходит циклическое вычисление значений, которые добавляются в текущий разряд десятичной дроби. Для этого используется схема Горнера, в которой последовательно вычисляются значения выражения, которое представляет остаток от деления числа на знаменатель в формуле для вычисления $\pi$.

Один из ключевых шагов алгоритма заключается в применении операции "крана", которая выполняет перенос избытка в следующий разряд дроби. Это позволяет уменьшить объем памяти, необходимый для хранения всех разрядов числа $\pi$.

Посчитаем количество элементарных операций для вычисления 100, 1000, 10000 100000 знаков:
| Знаки | Итерации |    
|-------------|-------------|
| 100    | 233508    |
| 1000    | 23335107    |
| 10000    | 2333351248    |
| 100000    | 233333581265   |

<img src="/image/spigot.jpeg" alt="spigot" width="75%">

---
## Сравнение методов ##
Алгоритм Spigot, формула Беллара и ряд Мадхавы являются разными методами для вычисления числа $\pi$.

* Формула Беллара основана на ряде, который включает множество слагаемых и довольно медленно сходится. Это означает, что требуется большое количество итераций для получения высокой точности. Однако этот метод относительно прост в понимании и может быть легко реализован.
* Ряд Мадхавы также использует ряд, но он сходится быстрее, чем формула Беллара. Однако он также имеет ограниченную точность и требует большое количество итераций для достижения большей точности.
* Алгоритм Spigot является итеративным алгоритмом, который работает с двоичными разрядами числа π и не требует хранения предыдущих десятичных цифр. Он позволяет вычислять каждую десятичную цифру по мере необходимости и обеспечивает высокую точность с меньшим количеством итераций, чем формула Беллара и ряд Мадхавы.

Однако, если нужно вычислить первые 15 знаков после запятой, формула Беллара может быть наиболее эффективной.

<img src="/image/compare.jpeg" alt="compare" width="75%">

Для вычисления большего количества знаков после запятой, Spigot-алгоритм может быть более эффективным.